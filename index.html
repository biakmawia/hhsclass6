<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Holy Heart School - Class VI Yearbook</title>
    <style>
        /* Your CSS styles */
    </style>
</head>
<body>

    <!-- Your existing HTML content -->

    <!-- Visitor count -->
    <div id="visitor-count">
        <p>Visitor Count: <span id="count">0</span></p>
    </div>

    <!-- Comment section -->
    <div id="comment-section">
        <h3>Leave a Comment:</h3>
        <form id="comment-form">
            <label for="name">Your Name:</label>
            <input type="text" id="name" name="name" required>
            <label for="comment">Your Comment:</label>
            <textarea id="comment" name="comment" rows="4" required></textarea>
            <button type="button" onclick="submitComment()">Submit Comment</button>
        </form>
    </div>

    <!-- Display comments -->
    <div id="comments">
        <h3>Comments:</h3>
        <!-- Comments will be dynamically added here -->
    </div>

    <!-- JavaScript code for fetching and displaying comments -->
    <script>
        // Fetch comments from the Gist API
        fetch('https://api.github.com/gists/7d97bbb33368a0d1506de267dcb43dd2')
            .then(response => response.json()) // Parse response as JSON
            .then(data => {
                // Extract comments from the Gist content
                const comments = JSON.parse(data.files['comments.json'].content);

                // Display comments on the webpage
                const commentsContainer = document.getElementById('comments');
                comments.forEach(comment => {
                    const commentElement = document.createElement('div');
                    commentElement.textContent = comment.name + ': ' + comment.comment;
                    commentsContainer.appendChild(commentElement);
                });
            })
            .catch(error => console.error('Error fetching comments:', error));

        // Visitor count
        let count = localStorage.getItem('visitorCount') || 0;
        document.getElementById('count').innerText = count;

        // Increment visitor count
        count++;
        localStorage.setItem('visitorCount', count);

        // Submit comment
        function submitComment() {
            const name = document.getElementById('name').value;
            const comment = document.getElementById('comment').value;

            // Check if both name and comment are provided
            if (name && comment) {
                // Display the comment
                const commentSection = document.createElement('div');
                commentSection.textContent = name + ': ' + comment;
                document.getElementById('comments').appendChild(commentSection);

                // Clear the form
                document.getElementById('comment-form').reset();
            } else {
                alert('Please provide both your name and comment.');
            }
        }
    </script>
</body>
</html>
